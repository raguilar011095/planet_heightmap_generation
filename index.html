<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Buildr</title>
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <canvas id="canvas"></canvas>
    <div id="ui">
        <h2>World Buildr</h2>
        <div class="sub">Build worlds shaped by tectonic forces</div>
        <details class="section" open>
            <summary>Shape Your World</summary>
            <div class="section-body">
                <div class="cg">
                    <label>Detail <span class="tip" data-tip="Resolution of the sphere — more detail means finer coastlines and terrain, but takes longer to generate">?</span> <span class="v" id="vN">200000</span></label>
                    <input type="range" id="sN" min="2000" max="640000" value="200000" step="1000">
                    <div class="slider-hint"><span>Coarse</span><span>Fine</span></div>
                </div>
                <div class="cg">
                    <label>Irregularity <span class="tip" data-tip="How randomly the cell points are scattered — 0 gives a uniform grid, 1 gives fully organic, irregular shapes">?</span> <span class="v" id="vJ">0.75</span></label>
                    <input type="range" id="sJ" min="0" max="1" value="0.75" step="0.05">
                    <div class="slider-hint"><span>Uniform</span><span>Scattered</span></div>
                </div>
                <div class="cg">
                    <label>Plates <span class="tip" data-tip="Number of tectonic plates — more plates means more boundaries where mountains, trenches, and coastlines form">?</span> <span class="v" id="vP">80</span></label>
                    <input type="range" id="sP" min="4" max="120" value="80" step="1">
                    <div class="slider-hint"><span>Few</span><span>Many</span></div>
                </div>
                <div class="cg">
                    <label>Continents <span class="tip" data-tip="Target number of landmasses — 1 creates a supercontinent, higher values scatter land into multiple continents and archipelagos">?</span> <span class="v" id="vCn">4</span></label>
                    <input type="range" id="sCn" min="1" max="10" value="4" step="1">
                    <div class="slider-hint"><span>Supercontinent</span><span>Archipelago</span></div>
                </div>
                <div class="cg">
                    <label>Roughness <span class="tip" data-tip="Terrain roughness — higher values add more fractal detail to mountains and coastlines">?</span> <span class="v" id="vNs">0.40</span></label>
                    <input type="range" id="sNs" min="0" max="0.5" value="0.40" step="0.01">
                    <div class="slider-hint"><span>Smooth</span><span>Rugged</span></div>
                </div>
            </div>
        </details>
        <button id="generate">Build New World</button>
        <details class="section" open>
            <summary>Visual Options</summary>
            <div class="section-body">
                <div class="cg">
                    <label>View</label>
                    <select id="viewMode">
                        <option value="globe">Globe</option>
                        <option value="map">Map</option>
                    </select>
                </div>
                <div class="tg">
                    <label><input type="checkbox" id="chkWire"> Wireframe</label>
                    <label><input type="checkbox" id="chkPlates"> Show Plates</label>
                    <label><input type="checkbox" id="chkRotate"> Auto-Rotate</label>
                </div>
            </div>
        </details>
        <details class="section" open>
            <summary>Detailed Visualization</summary>
            <div class="section-body">
                <div class="cg">
                    <label>Inspect</label>
                    <select id="debugLayer">
                        <option value="">Terrain</option>
                        <option value="base">Base</option>
                        <option value="tectonic">Tectonic</option>
                        <option value="noise">Noise</option>
                        <option value="interior">Interior</option>
                        <option value="coastal">Coastal</option>
                        <option value="ocean">Ocean</option>
                        <option value="hotspot">Hotspot</option>
                        <option value="tecActivity">Tectonic Activity</option>
                        <option value="margins">Margins</option>
                        <option value="backArc">Back-Arc</option>
                    </select>
                </div>
                <div id="stats"></div>
            </div>
        </details>
    </div>
    <div id="topInfo">Drag to rotate &middot; Scroll to zoom &middot; Ctrl-click to reshape continents</div>
    <div id="hoverInfo"></div>
    <div id="info">Drag to rotate &middot; Scroll to zoom &middot; Ctrl-click to reshape continents</div>

    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/",
            "delaunator": "https://cdn.jsdelivr.net/npm/delaunator@5.0.1/+esm"
        }
    }
    </script>

    <script type="module" src="js/main.js"></script>
</body>
</html>
